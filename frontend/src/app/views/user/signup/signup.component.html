<section class="signup">
  <div class="container">
    <div class="auth-form" [formGroup]="signupForm">
      <div class="form-title">Войти в личный кабинет</div>
      <div class="form-body">

        <input
          class="input"
          type="text"
          placeholder="Ваше имя"
          [ngStyle]="{'border-color': name?.invalid &&  (name?.dirty || name?.touched) ? 'red' : ''}"
          formControlName="name"
        >
        <div *ngIf="name?.invalid && (name?.dirty || name?.touched)">
          <div class="text-danger" *ngIf="name?.errors?.['required']  && !name?.value">
            Имя обязательно для заполнения
          </div>
          <div class="text-danger" *ngIf="name?.errors?.['invalidName']  && name?.value">
            Имя должно начинаться с заглавной буквы и содержать только русские буквы и пробелы
          </div>
        </div>

        <input
          class="input"
          type="email"
          placeholder="Электронная почта"
          [ngStyle]="{'border-color': email?.invalid && (email?.dirty || email?.touched) ? 'red' : ''}"
          formControlName="email"
        >
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)">
          <div class="text-danger" *ngIf="email?.errors?.['required'] && !email?.value">
            Email обязательно для заполнения
          </div>
          <div class="text-danger" *ngIf="email?.errors?.['email'] && email?.value">
            Email введен некорректно
          </div>
        </div>

        <input
          class="input"
          type="password"
          placeholder="Пароль"
          [ngStyle]="{'border-color': password?.invalid && (password?.dirty || password?.touched) ? 'red' : ''}"
          formControlName="password"
        >
        <div *ngIf="password?.invalid && (password?.dirty || password?.touched)">
          <div class="text-danger" *ngIf="password?.errors?.['required'] && !password?.value">
            Пароль обязателен для заполнения
          </div>
          <div class="text-danger" *ngIf="password?.errors?.['invalidPassword'] && password?.value">
            Пароль должен быть ⩾ 8 символов, содержать не менее 1 цифры и 1 буквы в верхнем регистре
          </div>
        </div>

        <div class="agree">
          <input id="checkbox" type="checkbox" formControlName="agree">
          <label for="checkbox">
            Я принимаю <a routerLink="/policy" fragment="user-agreement">условия пользовательского соглашения</a>
            и даю <a routerLink="/policy" fragment="personal-data">согласие на обработку персональных данных</a>.
          </label>
        </div>
      </div>
      <div class="form-after">
        <button class="button" [disabled]="signupForm.invalid" (click)="signup()">Войти</button>
        <span>Уже есть аккаунт? <a routerLink="/login">Войдите</a></span>
      </div>
    </div>

    <div class="page-image">
      <img src="assets/images/pages/auth-signup.png" alt="picture">
    </div>
  </div>
</section>
